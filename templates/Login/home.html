<!-- extends表明此页面继承自 baseHome.html 文件 -->
{% extends "baseHome.html" %}
{% load staticfiles %}

<!-- 写入 baseHome.html 中定义的 title -->
{% block title %}
    主页
{% endblock title %}

<!-- 写入 baseHome.html 中定义的 content -->
{% block content %}

<body background="/static/images/bg.jpg" style=" background-repeat:no-repeat ;background-size:100% 100%;
background-attachment: fixed;">
<div class="container">
    
        <h1 class="text-center" style="color:rgba(255, 251, 0, 0.753)">Good Homework Online</h1>
    
        {% if user.is_authenticated %}
        
            <!--<a class="nav-link" style="color:white" href="{% url 'Login:登出' %}">登出</a>-->
            <!--<a href="{% url 'Login:个人中心' %}" class="btn btn-primary">个人中心</a>-->
            <!--<a class="nav-link" style="color:greenyellow" href="{% url 'Login:个人中心' %}">个人中心</a>-->
        
        <br>
        <div class="col-2 alert alert-success">当前用户:{{ user.username }}</div>
        <div class="col-2 alert alert-success">当前用户身份:{{ request.session.role }}</div>
        <!--<p style="color:white">当前用户:{{ user.username }}</p>-->
        <!--<p style="color:white">当前用户身份:{{ request.session.role }}</p>-->
            
            {% if request.session.role == '老师' %}
                <p><a style="color:white" href ="{% url 'Login:addcourse' %}">添加课程</a></p>
                <p style="color:white">我的课程:</p>
                <ul>
                {% for course in mycourse %}
                
                <!-- 课程内容 -->
                <div class="col-4 mb-4">
                    <!-- 卡片容器 -->
                        <div class="card h-100">
                            
                            <!-- 标题 -->
                            <h4 class="card-header">{{ course.courseName }}</h4>
                            

                            <!-- 注脚 -->
                            <div class="card-footer">
                                <a href="{% url 'Login:coursedetail' course.id %}" class="btn btn-primary">课程详情</a>
                            </div>
                        </div>
                    </div>
            

                {% endfor %}
                </ul>
            {% endif %}
            
            {% if request.session.role == '学生' %}
                <p><a style="color:white" href ="{% url 'Login:joincourse' %}">寻找课程</a></p>
                <p style="color:white">我的课程:</p>
                <ul> <div class="container">
                    {% for c in sc %}
                        <!-- 课程内容 -->
                        <div class="col-4 mb-4">
                            <!-- 卡片容器 -->
                                <div class="card h-100">
                                    
                                    <!-- 标题 -->
                                    <h4 class="card-header">{{ c.thecourse.courseName }}</h4>
                                    

                                    <!-- 注脚 -->
                                    <div class="card-footer">
                                        <a href="{% url 'Login:coursedetail' c.thecourse.id %}" class="btn btn-primary">课程详情</a>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                </div>
                </ul>
            {% endif %}
            
            {% if request.session.role == '助教' %}
                <!--<p style="color:white">我管理的课程:</p>-->
                <div class="col-3 alert alert-warning">我管理的课程</div>
                <!-- 定义放置文章标题的div容器 -->
                <div class="container">
                    <div class="row mt-2">
                        
                        {% for c in ac %}
                        <!-- 课程内容 -->
                        <div class="col-2 mb-4">
                            <!-- 卡片容器 -->
                                <div class="card h-100">
                                    
                                    <!-- 标题 -->
                                    <h4 class="card-header">{{ c.thecourse.courseName }}</h4>
                                    

                                    <!-- 注脚 -->
                                    <div class="card-footer">
                                        <a href="{% url 'Login:coursedetail' c.thecourse.id %}" class="btn btn-primary">课程详情</a>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}

                    </div>
                </div>
                
                
                <!--
                <ul>
                    {% for c in ac %}
                    <li><a style="color:greenyellow" href ="{% url 'Login:coursedetail' c.thecourse.id %}">{{ c.thecourse.courseName }}</a></li>
                    {% endfor %}
                </ul>
                -->
            {% endif %}
            
        {% else %}
        <div style="text-align:center;">
            
            <a href = "{% url 'Login:登录' %}"  role="button" class="btn btn-outline-primary btn-lg img-circle " class="img-circle" >登录</a>
            <a href = "{% url 'Login:注册' %}"  role="button" class="btn btn-outline-primary btn-lg" class="img-circle" >注册</a>
        </div>
        {% endif %}
    
</div>
</body>
{% endblock content %}
